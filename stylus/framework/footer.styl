// ****
//
// Footer with Textarea
//
// ****
.footer
	position: fixed
	left: client-navigation-width
	bottom: 0
	right: 0
	background: footer-background
	padding: 2px 0 10px 0
	z-index: 30

	.grape-input-wrapper
		padding-left: 20px
		position: relative

		&.disabled
			.hint-box, .info-markdown, .uploader
				display: none

		.image
			@extend $clearfix
			width: 36px
			float: left
			margin-right: (horizontal-space / 2)
			border-radius: 50%
			position: relative
			&::after
				content: ""
				position: absolute
				right: 0
				top: 14px
				border-right: 6px solid white
				border-top: 6px solid transparent
				border-bottom: 6px solid transparent

		&.focus .input-hr::before
			transform: translate3d(100%, 0, 0)

	.input-highlighter
		position: relative
		margin: 0 30px 0 46px

	grape-input
		margin-right: 60px
		min-height: 36px
		line-height: 0

	.input-hr
		position: relative
		height: 1px
		background: gainsboro-light
		overflow: hidden
		&::before
			content: ''
			top: 0
			left: -100%
			width: 100%
			height: 100%
			background: grape-light
			position: absolute
			transition: transform .3s

	.edit-message, .hint-box
		@extend $small-font-size
		color: gainsboro-dark
		margin-bottom: 5px
		padding-left: 45px
		span
			background: silver-light
			border-radius: 3px
			border: 1px solid gainsboro-light
			padding: 0 2px

	// markdown info styling
	.info-markdown
		position: absolute
		right: 26px
		top: 0
		bottom: 0
		transition: right .5s ease-in-out, opacity .5s ease-in-out

	// uploader styling
	.uploader
		position: absolute
		right: 0
		top: 0
		bottom: 0
		transition: right .5s ease-in-out, opacity .5s ease-in-out
		input
			display: none

	.upload-progress
		display: none
		position: absolute
		text-align: center
		top: 0
		left: 0
		bottom: 0
		right: 0
		line-height: 36px
		background: white
		border-radius: main-border-radius
		overflow: hidden
		img.preview
			max-width: upload-size
			max-height: upload-size
			display: inline-block
			vertical-align: middle
		.progress
			position: absolute
			top: 0
			left: 0
			bottom: 0
			right: 0
			background: rgba(255, 255, 255, 0.6)
		.progress canvas
			display: inline-block
			vertical-align: middle

	.uploader.open .upload-progress
		display: block

	.info-markdown
	.upload
		@extend $hoverable
		padding: 3px 0
		height: 100%
		min-height: 36px
		width: 36px
		&:hover
			.fa
				color: link-color
		.fa
			@extend $bigger-font-size
			position: absolute // Keeps the plus in the middle if textarea grows
			right: 0
			top: 50%
			margin-top: -14px
			width: 38px
			height: 30px
			text-align: center
			line-height: 30px
			color: gainsboro-dark

	.editing-previous
		.input-highlighter
			background: lighten(gold, 80%)
		.uploader
			right: -30px
			opacity: 0
		.info-markdown
			right: 0
		.hint-box
			display: none
	// Toggle for edit message input
	.grape-input-wrapper .edit-message
		display:none
	.grape-input-wrapper.editing-previous .edit-message
		display: block

