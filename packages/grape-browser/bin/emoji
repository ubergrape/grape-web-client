#!/usr/bin/env node

var path = require('path')
var fs = require('fs')
var meta = require('emojione/emoji.json')

meta = Object.keys(meta).map(function (name)Â {
  return {
    name: name,
    cat: meta[name].category,
    aliases: meta[name].aliases
  }
})

const COMMENT = '// File is generated by bin/emoji, do not edit.\n'

const DEST = path.join(__dirname, '..', '/src/emoji/meta.js')
var jsonStr = JSON.stringify(meta, null, '  ')
jsonStr = jsonStr.replace(/"/g, '\'')
jsonStr = 'export default ' + jsonStr + '\n'
jsonStr = COMMENT + jsonStr
fs.writeFileSync(DEST, jsonStr)

console.log('File %s succesfully generated.', DEST)
